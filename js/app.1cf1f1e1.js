(function(){"use strict";var e={8569:function(e,t,r){var s=r(6369),n=r(4951),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("customer-form")],1)},l=[],o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"customer-form"},[1===e.stage?t("customer-form-person",{on:{"is-valid":e.isValidHandler}}):2===e.stage?t("customer-form-document",{on:{"is-valid":e.isValidHandler}}):3===e.stage?t("customer-form-address",{on:{"is-valid":e.isValidHandler}}):4===e.stage?t("customer-form-service",{on:{"is-valid":e.isValidHandler}}):t("span",{staticClass:"customer-form__success-message"},[e._v("Новый клиент успешно создан")]),t("div",{staticClass:"customer-form__button-wrapper"},[t("v-button",{attrs:{disabled:!e.isValid&&e.stage!=e.maxStage},nativeOn:{click:function(t){return e.changeStage.apply(null,arguments)}}},[e._v(" "+e._s(e.stage===e.maxStage?"Ок":"Далее")+" ")])],1)],1)},i=[],u=function(){var e=this,t=e._self._c;return t("button",{staticClass:"v-button"},[e._t("default")],2)},c=[],d=r(1001),m={},p=(0,d.Z)(m,u,c,!1,null,"236d5f03",null),v=p.exports,h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"customer-form-person"},[t("v-input",{attrs:{label:"Имя",placeholder:"Иван",required:!0,error:e.$v.name.$error},model:{value:e.$v.name.$model,callback:function(t){e.$set(e.$v.name,"$model",t)},expression:"$v.name.$model"}}),t("v-input",{attrs:{label:"Фамилия",placeholder:"Иванов",required:!0,error:e.$v.secondName.$error},model:{value:e.$v.secondName.$model,callback:function(t){e.$set(e.$v.secondName,"$model",t)},expression:"$v.secondName.$model"}}),t("v-input",{attrs:{label:"Отчество",placeholder:"Иванович",error:e.$v.patronymic.$error},model:{value:e.$v.patronymic.$model,callback:function(t){e.$set(e.$v.patronymic,"$model",t)},expression:"$v.patronymic.$model"}}),t("v-input",{attrs:{type:"date",label:"Дата рождения",required:!0,error:e.$v.dateOfBirth.$error},model:{value:e.$v.dateOfBirth.$model,callback:function(t){e.$set(e.$v.dateOfBirth,"$model",t)},expression:"$v.dateOfBirth.$model"}}),t("v-select",{attrs:{label:"Пол",data:["Мужской","Женский"]},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),t("v-input",{attrs:{type:"number",label:"Номер телефона",placeholder:"79123456789",required:!0,error:e.$v.phone.$error},model:{value:e.$v.phone.$model,callback:function(t){e.$set(e.$v.phone,"$model",t)},expression:"$v.phone.$model"}}),t("v-checkbox",{attrs:{label:"Не отправлять СМС"},model:{value:e.sendSMS,callback:function(t){e.sendSMS=t},expression:"sendSMS"}})],1)},$=[],f=r(5795);const _=f.BM.regex("alphaRu",/^[а-яА-Я]+$/),b=f.BM.regex("phone",/^7\d{10}$/),g=f.BM.regex("seriesOfBirthCertificate",/^[IVX]*-[А-Я]{2}$/),x=f.BM.regex("sentencesRU",/^[а-яА-Я.,\- ]+$/),y=f.BM.regex("trafficPoliceOfficeNumber",/^ГИБДД \d{4}$/),S=f.BM.regex("alphaNumRu",/^[а-яА-Я0-9]+$/);var C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"v-input"},[t("label",{staticClass:"v-input__label",attrs:{for:"v-input__input"}},[t("span",[e._v(e._s(e.label))]),e.required?t("span",{staticClass:"v-input__required"},[e._v("*")]):e._e()]),t("input",{staticClass:"v-input__input",class:{"v-input__input--error":e.error},attrs:{id:"v-input__input",type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.inputHandler}}),e.error?t("span",{staticClass:"v-input__error-message"},[e._v(e._s(e.message))]):e._e()])},k=[],P=s.ZP.extend({name:"VInput",props:{label:{type:String,required:!0},value:{required:!0},placeholder:{type:String,default:""},type:{type:String,default:"text"},required:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:String},computed:{message(){if(this.errorMessage)return this.errorMessage;let e="";return e="date"===this.type.toLowerCase()?`Поле "${this.label}" содержит недопустимое значение`:`Поле "${this.label}" содержит недопустимое значение. Пример допустимого значения: ${this.placeholder}`,e}},methods:{inputHandler(e){this.$emit("input",e.target.value)}}}),B=P,L=(0,d.Z)(B,C,k,!1,null,"72b8fbd2",null),O=L.exports,w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"v-checkbox"},[t("input",{staticClass:"v-checkbox__input",attrs:{id:"v-checkbox__input",type:"checkbox"},domProps:{checked:e.value},on:{input:e.inputHandler}}),t("label",{staticClass:"v-checkbox__label",class:{"v-checkbox__label--checked":e.value},attrs:{for:"v-checkbox__input"}},[t("span",[e._v(e._s(e.label))]),e.required?t("span",{staticClass:"v-checkbox__required"},[e._v("*")]):e._e()]),e.error?t("span",{staticClass:"v-checkbox__error-message"},[e._v(e._s(e.message))]):e._e()])},q=[],V=s.ZP.extend({name:"VCheckbox",props:{label:{type:String,required:!0},value:{type:Boolean,required:!0},required:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:String},computed:{message(){return this.errorMessage?this.errorMessage:`Поле "${this.label}" обязательное`}},methods:{inputHandler(e){this.$emit("input",e.target.checked)}}}),N=V,I=(0,d.Z)(N,w,q,!1,null,"7ba90379",null),Z=I.exports,T=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"v-select"},[t("span",{staticClass:"v-select__label"},[t("span",[e._v(e._s(e.label))]),e.required?t("span",{staticClass:"v-select__required"},[e._v("*")]):e._e()]),t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clickOutsideHandler,expression:"clickOutsideHandler"}],staticClass:"v-select__select-container",class:{"v-select__select-container--unwrapped":e.isUnWrapped&&e.availableToSelect.length,"v-select__select-container--error":e.error}},[t("div",{staticClass:"v-select__selected-items-wrapper"},[e._l(e.value,(function(r,s){return t("div",{key:s,staticClass:"v-select__selected-item",on:{mouseup:function(t){return"button"in t&&1!==t.button?null:e.removeItem(r)}}},[t("span",[e._v(e._s(r))]),t("button",{staticClass:"v-select__selected-item-button-remove",on:{click:function(t){return t.stopPropagation(),e.removeItem(r)}}},[e._v(" x ")])])})),t("input",{directives:[{name:"show",rawName:"v-show",value:e.searchInput||e.availableToSelect.length&&e.multiple||e.availableToSelect.length&&!e.value.length,expression:"\n          searchInput ||\n          (availableToSelect.length && multiple) ||\n          (availableToSelect.length && !value.length)\n        "},{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],staticClass:"v-select__input-search",attrs:{placeholder:e.availableToSelect[0]},domProps:{value:e.searchInput},on:{input:function(t){t.target.composing||(e.searchInput=t.target.value)}}})],2),t("span",{staticClass:"v-select__arrow",class:{"v-select__arrow--unwrapped":e.isUnWrapped}},[e._v("▼")]),t("ul",{staticClass:"v-select__list",class:{"v-select__list--unwrapped":e.isUnWrapped&&e.availableToSelect.length,"v-select__list--error":e.error}},e._l(e.availableToSelect,(function(r,s){return t("li",{key:s,staticClass:"v-select__list-item",on:{click:function(t){return e.addItem(r)}}},[e._v(" "+e._s(r)+" ")])})),0)]),e.error?t("span",{staticClass:"v-select__error-message"},[e._v(e._s(e.message))]):e._e()])},E=[],M=s.ZP.extend({name:"VSelect",props:{label:{type:String,required:!0},data:{type:Array,required:!0},value:{type:Array,required:!0},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data(){return{isUnWrapped:!1,searchInput:""}},computed:{message(){let e=`Поле "${this.label}" содержит недопустимое значние. Необходимо выбрать одно`;return this.multiple?e+=" или несколько значений":e+=" значение",e},availableToSelect(){return this.data.filter((e=>!this.value.includes(e)&&-1!==e.toLowerCase().indexOf(this.searchInput.toLowerCase())))}},methods:{addItem(e){this.multiple?this.$emit("input",[...this.value,e]):this.$emit("input",[e])},removeItem(e){this.$emit("input",[...this.value].filter((t=>t!==e)))},clickOutsideHandler({isInside:e}){this.isUnWrapped=e}}}),D=M,H=(0,d.Z)(D,T,E,!1,null,"684e9300",null),R=H.exports,U=s.ZP.extend({name:"CustomerFormPerson",components:{VInput:O,VCheckbox:Z,VSelect:R},data(){return{name:"",secondName:"",patronymic:"",dateOfBirth:"",gender:[],phone:"",sendSMS:!1}},computed:{isValid(){return!this.$v.$invalid}},watch:{isValid(e){this.$emit("is-valid",e)}},validations(){return{name:{required:f.C1,alphaRu:_,minLength:(0,f.Ei)(2),maxLength:(0,f.BS)(30)},secondName:{required:f.C1,alphaRu:_,minLength:(0,f.Ei)(2),maxLength:(0,f.BS)(30)},patronymic:{alphaRu:_,minLength:(0,f.Ei)(2),maxLength:(0,f.BS)(30)},dateOfBirth:{required:f.C1,maxValue:e=>new Date(e)<=new Date},phone:{required:f.C1,phone:b}}}}),F=U,j=(0,d.Z)(F,h,$,!1,null,"75ba2c24",null),A=j.exports,W=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"customer-form-document"},[t("v-select",{attrs:{label:"Тип документа",required:!0,data:e.documentTypes,error:e.$v.documentType.$error},model:{value:e.$v.documentType.$model,callback:function(t){e.$set(e.$v.documentType,"$model",t)},expression:"$v.documentType.$model"}}),t("v-input",{attrs:{label:"Серия",placeholder:e.currentDocumentPlaceholders.documentSeriesPlaceholder,error:e.$v.documentSeries.$error},model:{value:e.$v.documentSeries.$model,callback:function(t){e.$set(e.$v.documentSeries,"$model",t)},expression:"$v.documentSeries.$model"}}),t("v-input",{attrs:{label:"Номер",placeholder:e.currentDocumentPlaceholders.documentNumberPlaceholder,error:e.$v.documentNumber.$error},model:{value:e.$v.documentNumber.$model,callback:function(t){e.$set(e.$v.documentNumber,"$model",t)},expression:"$v.documentNumber.$model"}}),t("v-input",{attrs:{label:"Кем выдан",placeholder:e.currentDocumentPlaceholders.issuedBy,error:e.$v.issuedBy.$error},model:{value:e.$v.issuedBy.$model,callback:function(t){e.$set(e.$v.issuedBy,"$model",t)},expression:"$v.issuedBy.$model"}}),t("v-input",{attrs:{type:"date",label:"Дата выдачи",required:!0,error:e.$v.dateOfIssue.$error},model:{value:e.$v.dateOfIssue.$model,callback:function(t){e.$set(e.$v.dateOfIssue,"$model",t)},expression:"$v.dateOfIssue.$model"}})],1)},X=[],z=s.ZP.extend({name:"CustomerFormDocument",components:{VInput:O,VSelect:R},data(){return{documentsPlaceholders:[{name:"Паспорт",documentSeriesPlaceholder:"1234",documentNumberPlaceholder:"123456",issuedBy:"УФМС РОССИИ ПО ГОР. МОСКВА"},{name:"Свидетельство о рождении",documentSeriesPlaceholder:"III-АА",documentNumberPlaceholder:"123456",issuedBy:"Зеленоградский отдел ЗАГС Управления ЗАГС Москвы"},{name:"Вод. удостоверение",documentSeriesPlaceholder:"1234",documentNumberPlaceholder:"123456",issuedBy:"ГИБДД 1234"}],documentType:[],documentSeries:"",documentNumber:"",issuedBy:"",dateOfIssue:""}},computed:{isValid(){return!this.$v.$invalid},documentTypes(){return this.documentsPlaceholders.map((e=>e.name))},currentDocumentPlaceholders(){const e={documentSeriesPlaceholder:"",documentNumberPlaceholder:"",issuedBy:""};return this.documentsPlaceholders.some((t=>{const r=this.documentType[0]===t.name;return r&&(e.documentSeriesPlaceholder=t.documentSeriesPlaceholder,e.documentNumberPlaceholder=t.documentNumberPlaceholder,e.issuedBy=t.issuedBy),r})),e}},watch:{isValid(e){this.$emit("is-valid",e)}},validations(){const e=this.documentType[0],t={documentType:{required:f.C1},dateOfIssue:{required:f.C1,maxValue:e=>new Date(e)<=new Date},documentSeries:{},documentNumber:{},issuedBy:{}};return"Паспорт"===e?Object.assign(t,{documentSeries:{integer:f._L,minLength:(0,f.Ei)(4),maxLength:(0,f.BS)(4)},documentNumber:{integer:f._L,minLength:(0,f.Ei)(6),maxLength:(0,f.BS)(6)},issuedBy:{sentencesRU:x,minLength:(0,f.Ei)(10),maxLength:(0,f.BS)(100)}}):"Свидетельство о рождении"===e?Object.assign(t,{documentSeries:{seriesOfBirthCertificate:g},documentNumber:{integer:f._L,minLength:(0,f.Ei)(6),maxLength:(0,f.BS)(6)},issuedBy:{sentencesRU:x,minLength:(0,f.Ei)(10),maxLength:(0,f.BS)(100)}}):"Вод. удостоверение"===e&&Object.assign(t,{documentSeries:{integer:f._L,minLength:(0,f.Ei)(4),maxLength:(0,f.BS)(4)},documentNumber:{integer:f._L,minLength:(0,f.Ei)(6),maxLength:(0,f.BS)(6)},issuedBy:{trafficPoliceOfficeNumber:y}}),t}}),G=z,J=(0,d.Z)(G,W,X,!1,null,"7644fc47",null),K=J.exports,Q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"customer-form-address"},[t("v-input",{attrs:{label:"Страна",placeholder:"Россия",error:e.$v.country.$error},model:{value:e.$v.country.$model,callback:function(t){e.$set(e.$v.country,"$model",t)},expression:"$v.country.$model"}}),t("v-input",{attrs:{label:"Область",placeholder:"Московская обл.",error:e.$v.region.$error},model:{value:e.$v.region.$model,callback:function(t){e.$set(e.$v.region,"$model",t)},expression:"$v.region.$model"}}),t("v-input",{attrs:{label:"Город",placeholder:"Москва",required:!0,error:e.$v.city.$error},model:{value:e.$v.city.$model,callback:function(t){e.$set(e.$v.city,"$model",t)},expression:"$v.city.$model"}}),t("v-input",{attrs:{label:"Улица",placeholder:"ул. Большая Никитская",error:e.$v.street.$error},model:{value:e.$v.street.$model,callback:function(t){e.$set(e.$v.street,"$model",t)},expression:"$v.street.$model"}}),t("v-input",{attrs:{label:"Дом",placeholder:"1к1",error:e.$v.house.$error},model:{value:e.$v.house.$model,callback:function(t){e.$set(e.$v.house,"$model",t)},expression:"$v.house.$model"}}),t("v-input",{attrs:{label:"Индекс",placeholder:"123456",error:e.$v.postcode.$error},model:{value:e.$v.postcode.$model,callback:function(t){e.$set(e.$v.postcode,"$model",t)},expression:"$v.postcode.$model"}})],1)},Y=[],ee=s.ZP.extend({name:"CustomerFormAddress",components:{VInput:O},data(){return{country:"",region:"",city:"",street:"",house:"",postcode:""}},computed:{isValid(){return!this.$v.$invalid}},watch:{isValid(e){this.$emit("is-valid",e)}},validations(){return{country:{sentencesRU:x,minLength:(0,f.Ei)(4),maxLength:(0,f.BS)(30)},region:{sentencesRU:x,minLength:(0,f.Ei)(5),maxLength:(0,f.BS)(50)},city:{sentencesRU:x,required:f.C1,minLength:(0,f.Ei)(2),maxLength:(0,f.BS)(40)},street:{sentencesRU:x,minLength:(0,f.Ei)(5),maxLength:(0,f.BS)(40)},house:{alphaNumRu:S,minLength:(0,f.Ei)(1),maxLength:(0,f.BS)(6)},postcode:{integer:f._L,minLength:(0,f.Ei)(6),maxLength:(0,f.BS)(6)}}}}),te=ee,re=(0,d.Z)(te,Q,Y,!1,null,"764c9744",null),se=re.exports,ne=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"customer-form-service"},[t("v-select",{attrs:{label:"Группа клиентов",required:!0,multiple:!0,data:e.availableClientStatuses,error:e.$v.selectedClientStatuses.$error},model:{value:e.$v.selectedClientStatuses.$model,callback:function(t){e.$set(e.$v.selectedClientStatuses,"$model",t)},expression:"$v.selectedClientStatuses.$model"}}),t("v-select",{attrs:{label:"Лечащий врач",data:e.availableDoctors},model:{value:e.selectedDoctors,callback:function(t){e.selectedDoctors=t},expression:"selectedDoctors"}})],1)},ae=[],le=s.ZP.extend({name:"CustomerFormPerson",components:{VSelect:R},data(){return{availableClientStatuses:["VIP","Проблемные","ОМС"],availableDoctors:["Иванов","Захаров","Чернышева"],selectedClientStatuses:[],selectedDoctors:[]}},computed:{isValid(){return!this.$v.$invalid}},watch:{isValid(e){this.$emit("is-valid",e)}},validations(){return{selectedClientStatuses:{required:f.C1}}}}),oe=le,ie=(0,d.Z)(oe,ne,ae,!1,null,"2ee0d5de",null),ue=ie.exports,ce=s.ZP.extend({name:"CustomerForm",components:{VButton:v,CustomerFormPerson:A,CustomerFormDocument:K,CustomerFormAddress:se,CustomerFormService:ue},data(){return{stage:1,maxStage:5,isValid:!1}},methods:{isValidHandler(e){this.isValid=e},changeStage(){this.stage===this.maxStage?this.stage=1:this.stage++,this.isValid=!1}}}),de=ce,me=(0,d.Z)(de,o,i,!1,null,"a57b8d0a",null),pe=me.exports,ve=s.ZP.extend({name:"App",components:{CustomerForm:pe}}),he=ve,$e=(0,d.Z)(he,a,l,!1,null,null,null),fe=$e.exports;const _e={bind:(e,t)=>{e.clickOutsideHandler=r=>{const s=e===r.target||e.contains(r.target),n=e.parentNode===r.target||e.parentNode.contains(r.target)&&!s,a=!s&&!n;t.value({isParent:n,isInside:s,isOutside:a})},window.addEventListener("click",e.clickOutsideHandler)},unbind:e=>{window.removeEventListener("click",e.clickOutsideHandler)}};s.ZP.config.productionTip=!1,s.ZP.config.devtools=!0,s.ZP.use(n.ZP),s.ZP.directive("click-outside",_e),new s.ZP({render:e=>e(fe)}).$mount("#app")}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,a){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],a=e[c][2];for(var o=!0,i=0;i<s.length;i++)(!1&a||l>=a)&&Object.keys(r.O).every((function(e){return r.O[e](s[i])}))?s.splice(i--,1):(o=!1,a<l&&(l=a));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,l=s[0],o=s[1],i=s[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(i)var c=i(r)}for(t&&t(s);u<l.length;u++)a=l[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},s=self["webpackChunkmedods_task_form"]=self["webpackChunkmedods_task_form"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(8569)}));s=r.O(s)})();
//# sourceMappingURL=app.1cf1f1e1.js.map